# ARM指令简介

一般的算术运算ARM指令通常是由如下的形式组成的：

```asm
MNEMONIC{S}{condition} {Rd}, Operand1, Operand2
```

其中，由`{}`包起来的部分属于可选部分。

尤其要注意的是，这只是一个大概的表示形式。并不是所有指令都用到了其中的所有字段，对于特定的指令，只有其中的一部分可选字段对该指令有效。

其中不同字段的大致解释如下：

|字段|介绍|
|:-:|:-|
|MNEMONIC|指令助记符|
|{S}|可选后缀，假设在算术运算指令后加上了一个S，那么APSR寄存器中的各标志位就会根据该指令的运算结果进行更新|
|{condition}|可选后缀，假如在指令后加上了一个条件那么该指令只有当此条件满足时才会执行|
|{Rd}|可选字段，放置指令结果的目的寄存器|
|Operand1|第一操作数，既可以是一个寄存器，也可以是一个立即数|
|Operand2|第二操作数，该操作数比较灵活，可以是立即数、或者进行可选移位的寄存器|

对于第二操作数，举几个例子：
|操作数|解释|
|:-|:-|
|#123|立即数，前面要加#号表示（立即数的表示范围是被限制的，原因会在后面详细说明）|
|Rx|寄存器x|
|Rx, ASR n|取寄存器x的值后算术右移(Arithmetic Shift Right)n位，n在[1,32]区间|
|Rx, LSL n|取寄存器x的值后逻辑左移(Logical Shift Left)n位，n在[0,31]区间|
|Rx, LSR n|取寄存器x的值后逻辑右移(Logical Shift Right)n位，n在[1,32]区间|

来看一看具体的指令：
|指令|解释|
|:-|:-|
|ADD R0, R1, R2|把R1+R2的结果送到R0|
|ADD R0, R1, #2|把R1+2（立即数）的结果送到R0|
|MOVLE R0, #5|当LE的条件成立时（小于等于），将立即数5传送到R0中|
|MOV R0, R1, LSL #1|将R1做逻辑左移1位后的值送到R0|

